<%- include('head'); %>

<div class="row">
    <div class="col-lg-12">
        <h2 id="api_favorite_author_like">작가 좋아하기</h2>
        <form method="POST" action="/api/favorite_author/" onsubmit="api_favorite_author_like(this); return false;">
            <div class="form-group">
                <label>Member_id</label>
                <input type="text" class="form-control" name="member_id" value="4c88f4d2df15406beefec4b6d27ec2d7b347e2a26f685013e7e47b00ee00b29479a70527487ccb605eaa2be985b3bdf06569dd97ab5321236840251e31782f94da3bd20e01315a995f6c37937d6d4b5dcb0c06ba07cf956fdff459e0a2ada15b93">
            </div>
            <div class="form-group">
                <label>Author_id</label>
                <input type="text" class="form-control" name="author_id" value="574f30eb98397fef73fe36d8aa08094f11fa799e4ba450d526a137f3125dbb542c6720104feadb5ab0ddd185474f697b0ea2720bdca64216d226daa70779464693e7e8550060583e78f6261787d2d4dc11dd6fd0510fe5026e488dac89e86a63ab">
            </div>
            <div class="form-group">
                <label>Result</label>
                <textarea class="form-control" readonly></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
        <script>
            var api_favorite_author_like = function(f) {
                var form = $(f);
                var payload = {
                    "member_id" : form.find("input[name=member_id]").val(),
                    "author_id" : form.find("input[name=author_id]").val()
                };
                $.post(form.attr("action"), payload, function(result) { form.find("textarea").val(JSON.stringify(result)); }).fail(function(result) {
                    form.find("textarea").val(JSON.stringify(result));
                });
            };
        </script>
    </div>
</div>

<div class="row">
    <div class="col-lg-12">
        <hr />
        <h2 id="api_favorite_author_list">좋아하는 작가 리스트</h2>
        <form method="GET" action="/api/favorite_author/" onsubmit="api_favorite_author_list(this); return false;">
            <div class="form-group">
                <label>Member_id</label>
                <input type="text" class="form-control" name="member_id" value="4c88f4d2df15406beefec4b6d27ec2d7b347e2a26f685013e7e47b00ee00b29479a70527487ccb605eaa2be985b3bdf06569dd97ab5321236840251e31782f94da3bd20e01315a995f6c37937d6d4b5dcb0c06ba07cf956fdff459e0a2ada15b93">
            </div>
            <div class="form-group">
                <label>Result</label>
                <textarea class="form-control" readonly></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
        <script>
            var api_favorite_author_list = function(f) {
                var form = $(f);
                var payload = {
                    "member_id" : form.find("input[name=member_id]").val()
                };
                $.get(form.attr("action"), payload, function(result) { form.find("textarea").val(JSON.stringify(result)); }).fail(function(result) {
                    form.find("textarea").val(JSON.stringify(result));
                });
            };
        </script>
    </div>
</div>
<div class="row">
    <div class="col-lg-12">
        <hr />
        <h2 id="api_favorite_author_delete">좋아하는 작가 삭제하기</h2>
        <form method="POST" action="/api/favorite_author/" onsubmit="api_favorite_author_delete(this); return false;">
            <input type="hidden" name="_method" value="delete" />
            <div class="form-group">
                <label>Id</label>
                <input type="text" class="form-control" name="id" value="">
            </div>
            <div class="form-group">
                <label>Result</label>
                <textarea class="form-control" readonly></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
        <script>
            var api_favorite_author_delete = function(f) {
                var form = $(f);
                var id = form.find("input[name=id]").val();
        
                $.delete(form.attr("action")+ id, function(result) { form.find("textarea").val(JSON.stringify(result)); }).fail(function(result) {
                    form.find("textarea").val(JSON.stringify(result));
                });
            };
        </script>
    </div>
</div>
<%- include('foot'); %>
